# 運転日報アプリ

運転日報を簡単に記録・管理できるPWA（Progressive Web App）です。出発・経由・到着の記録をGPS情報と共に保存し、CSV形式でエクスポートできます。

## 主な機能

### 📝 記録機能
- **出発・経由・到着**の3つのアクションで記録を作成
- **GPS位置情報**を自動取得
- **行先**、**目的**、**ガソリンメーター**情報を記録
- 記録の個別削除機能

### 📊 エクスポート機能
- **月別**または**日付範囲**でCSVエクスポート
- エクスポートしたCSVを**メールで送信**
- Excelでそのまま開けるCSV形式

### 🔧 メンテナンス機能
- **Google マップ**から位置情報を指定して記録を作成
- 過去の日時を指定して記録を追加
- 全記録の一括削除（2段階確認）

### 📱 PWA機能
- **オフライン対応** - インターネット接続なしでも利用可能
- **インストール可能** - スマートフォンにアプリとしてインストール
- **レスポンシブデザイン** - スマートフォン、タブレット、PCに対応

## 使い方

### 基本的な使い方

1. **記録の作成**
   - 行先と目的を入力（出発時は必須）
   - ガソリンメーターの値を入力（出発時は必須）
   - 「出発」「経由」「到着」ボタンをタップ
   - GPS位置情報が自動的に記録されます

2. **記録の確認**
   - 「記録一覧」タブで過去の記録を確認
   - 各記録の右上の「×」ボタンで個別削除

3. **データのエクスポート**
   - 「エクスポート」タブを選択
   - 月別または日付範囲を選択
   - 「CSVダウンロード」または「エクスポートしてメールで送信」をタップ

### Google マップから記録を作成

1. Google マップで場所を検索
2. 地図上で右クリックして座標をコピー
3. 「メンテナンス」タブの「GPS座標」欄に貼り付け
4. その他の情報を入力して「記録を作成」をタップ

## インストール方法

### Webブラウザから利用

1. Webサーバーに全ファイルをアップロード
2. スマートフォンのブラウザでアクセス
3. 画面下部の「アプリをインストール」ボタンをタップ（またはブラウザのメニューから「ホーム画面に追加」）

### ローカル環境での動作確認

```bash
# Python 3の場合
python -m http.server 8000

# Python 2の場合
python -m SimpleHTTPServer 8000

# Node.jsの場合
npx http-server
```

ブラウザで `http://localhost:8000` にアクセス

## ファイル構成

```
DrivingReport/
├── index.html          # メインHTMLファイル
├── styles.css          # スタイルシート
├── app.js              # メインアプリケーションロジック
├── install-prompt.js   # PWAインストール処理
├── sw.js               # Service Worker（オフライン対応）
├── manifest.json       # PWAマニフェスト
├── icon-192x192.png    # アプリアイコン（192x192）
├── icon-512x512.png    # アプリアイコン（512x512）
├── create-icons.html   # アイコン生成ツール
└── README.md           # このファイル
```

## 技術仕様

### 使用技術
- HTML5
- CSS3
- JavaScript (ES6+)
- Service Worker API
- Geolocation API
- LocalStorage API

### データ保存
- ブラウザのLocalStorageに保存
- オフラインでも動作可能
- データはブラウザのキャッシュクリアで削除される可能性あり

### 対応ブラウザ
- Chrome (Android/PC)
- Safari (iOS)
- Edge
- Firefox

## 注意事項

- GPS位置情報の取得には端末の位置情報サービスの許可が必要です
- HTTPSまたはlocalhostでのみPWA機能が利用可能です
- データはブラウザのLocalStorageに保存されるため、定期的なバックアップ（エクスポート）を推奨します

## ライセンス

このプロジェクトは個人利用を目的として作成されています。

## 更新履歴

- 2024年 - 初版リリース
  - 基本的な記録機能
  - CSVエクスポート機能
  - PWA対応
  - メンテナンス機能追加